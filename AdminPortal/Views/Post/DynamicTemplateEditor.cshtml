@using MessageBoardClassLibrary.Models;
@{
    ViewData["Title"] = "Create Post";
}

@model List<Template>

<form asp-action="DynamicTemplateEditor" method="post">
    <input name="templateName" type="hidden" value="@Model.First().Name" />
    <div class="col">
        @for (int i = 0; i < Model.Count; i++)
        {
            <div class="row">
                @for (int j = i + 1; j < Model.Count; j++)
                {
                    @switch (Model[i].PopertyType)
                    {
                        case "Title":
                            <div class="col-2">
                                <label> @Model[i].PopertyName</label>
                                <input type="text" name="@Model[i].PopertyName" required />
                            </div>

                            break;

                        case "Description":
                            <div class="col-10">
                                <label> @Model[i].PopertyName</label>
                                <textarea name="@Model[i].PopertyName" required></textarea>
                            </div>

                            break;

                        default:
                            break;

                    }
                    @if (Model[i].PopertySequence != Model[j].PopertySequence)
                        break;

                    i++;
                }

                @if (i + 1 == Model.Count)
                {
                    @switch (Model[i].PopertyType)
                    {
                        case "Title":
                            <div class="col-2">
                                <label> @Model[i].PopertyName</label>
                                <input type="text" name="@Model[i].PopertyName" required />
                            </div>

                            break;

                        case "Description":
                            <div class="col-10">
                                <label> @Model[i].PopertyName</label>
                                <textarea name="@Model[i].PopertyName" required></textarea>
                            </div>

                            break;

                        default:
                            break;

                    }
                }
            </div>
            <hr />
            <br />
        }
    </div>
    <div class="col">
        <button class="btn btn-primary mb-2"> Create </button>
    </div>
</form>